<mat-form-field class="w-100" subscriptSizing="dynamic">
  @if (filter.label) {
    <mat-label>{{ filter.label }}</mat-label>
  }
  <input type="text" matInput [matAutocomplete]="auto" [formControl]="control" (input)="onInput()">

  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onChange($event)">
    @for (option of options; track option) {
      <mat-option [value]="option">
        {{ option.label }}
      </mat-option>
    }
  </mat-autocomplete>

  @if (filter.request.value) {
    <p-button matSuffix (click)="clear();$event.stopPropagation()"
      [text]="true" [rounded]="true" icon="bi bi-x-lg" severity="secondary" styleClass="me-1" />
  }

  @if (!filter.request.value) {
    <p-button matSuffix (click)="getOptions()"
      [text]="true" [rounded]="true" icon="bi bi-chevron-down" severity="secondary" styleClass="me-1" />
  }
</mat-form-field>